# tRPC Type Generation

This project uses code generation to create TypeScript types from the backend tRPC router, enabling full type safety across repositories.

## How it works

1. **Backend** defines tRPC routes with input/output schemas
2. **Code generation** extracts types from the router automatically
3. **Frontend** imports generated types for full type safety

## Generated Types

The backend generates `generated/trpc-types.ts` with:

- âœ… `AppRouter` - The complete router type
- âœ… `RouterInputs` - All input types for every route
- âœ… `RouterOutputs` - All output types for every route
- âœ… `LoginInput`, `SignupInput` etc. - Convenience types for common routes
- âœ… `TRPCSuccessResponse`, `TRPCErrorResponse` - Utility types

## Commands

### Backend

```bash
# Generate types manually
npm run generate-types

# Build (automatically generates types first)
npm run build
```

### Frontend

```typescript
// Import types
import type { LoginInput, UserOutput } from "./types/trpc";

// Use with full type safety
const loginData: LoginInput = {
  email: "user@example.com",
  password: "password123",
};

const user: UserOutput = await trpc.auth.me.query();
```

## Benefits

- ðŸŽ¯ **Full type safety** - Frontend gets exact backend types
- ðŸ”„ **Auto-sync** - Types update when backend changes
- ðŸ“¦ **Multi-repo friendly** - Works across separate repositories
- ðŸš€ **Zero manual work** - Types are generated automatically
- âœ¨ **IntelliSense** - Perfect autocomplete and error checking

## File Structure

```
backend/
â”œâ”€â”€ src/router.ts          # Source of truth for all routes
â”œâ”€â”€ generated/
â”‚   â””â”€â”€ trpc-types.ts      # ðŸ¤– Generated types (auto-created)
â””â”€â”€ scripts/
    â””â”€â”€ generate-trpc-types.js

frontend/
â”œâ”€â”€ src/types/
â”‚   â””â”€â”€ trpc.ts            # Re-exports generated types
â””â”€â”€ src/config/
    â””â”€â”€ trpc.ts            # Uses generated AppRouter type
```
